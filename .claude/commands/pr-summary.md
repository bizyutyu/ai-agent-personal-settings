---
description: 2つのブランチ間の差分からpull requestの概要を自動生成する
allowed-tools: Read, Bash(git diff:*), Bash(git log:*), Bash(git show:*), Bash(git rev-parse:*)
---

2つのブランチ名をパラメータとして受け取り、git diffの結果からpull requestの概要を自動生成してください。

**パラメータ:**
- `$1`: ベースブランチ名（例: `main`, `develop`）
- `$2`: 比較対象ブランチ名（例: `feature/new-feature`）

**処理手順:**

1. **ブランチの存在確認**
   - `git rev-parse --verify $1` と `git rev-parse --verify $2` でブランチの存在を確認

2. **変更ファイル一覧の取得**
   - `git diff --name-status $1..$2` で変更されたファイルとそのステータス（追加/変更/削除）を取得

3. **コミット履歴の取得**
   - `git log --oneline $1..$2` でコミット履歴を取得
   - `git log --format="%h - %s (%an, %ar)" $1..$2` で詳細なコミット情報を取得

4. **差分の詳細分析**
   - `git diff --stat $1..$2` で変更統計を取得
   - 主要な変更ファイルについて `git diff $1..$2 -- <file>` で変更内容を確認

5. **PR概要の生成**
   以下のセクションを含むMarkdown形式でPR概要を生成してください：

   - **変更概要**: 全体の変更内容を簡潔に説明
   - **変更されたファイル一覧**: ファイル名と変更タイプ（追加/変更/削除）
   - **主な変更点**: 重要な変更内容を箇条書きで説明
   - **影響範囲**: この変更が影響する機能やモジュール
   - **レビューポイント**: レビュー時に特に注意すべき点

**出力形式:**
- Markdown形式で構造化されたPR概要を生成
- コードブロックやファイルパスは適切にフォーマット
- 変更が大きい場合は主要な変更点に焦点を当てる

